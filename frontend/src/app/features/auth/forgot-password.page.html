<section class="auth-card">
  <header>
    <h1>Forgot password</h1>
    <p class="muted">Tell us your email and we'll send a secure link to reset your password.</p>
  </header>

  <form [formGroup]="form" (ngSubmit)="submit()" *ngIf="status() !== 'sent'" novalidate>
    <label>
      Work email
      <input type="email" formControlName="email" placeholder="you@company.com" [disabled]="status() === 'submitting'" />
    </label>
    <p class="error" *ngIf="errorMessage()">{{ errorMessage() }}</p>
    <button type="submit" [disabled]="status() === 'submitting'">
      {{ status() === 'submitting' ? 'Sending linkâ€¦' : 'Send reset link' }}
    </button>
    <p class="helper">
      Remembered your password?
      <a routerLink="/auth/signin">Back to sign in</a>
    </p>
  </form>

  <div *ngIf="status() === 'sent'" class="success-state">
    <h2>Check your inbox</h2>
    <p>If we found {{ form.controls.email.value }}, a reset link is on the way.</p>
    <p *ngIf="devResetToken()" class="dev-token">
      Dev preview token: <code>{{ devResetToken() }}</code>
    </p>
    <a routerLink="/auth/reset-password" class="btn">Already have a link?</a>
  </div>
</section>
