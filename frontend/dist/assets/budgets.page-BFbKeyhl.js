import{ɵ as k,c as w,d as t,e as o,f as a,h as M,g as C,k as s,u as P,l as y,C as N,D as B,N as S,Q as T,o as F,Y as g,p,q as l,r as u,Z as m,M as f,j as V,m as v,P as I,O as h,U as O,_ as b}from"./index-CoAdiQa4.js";import{d as A,e as D,f as W,D as R,g as G,S as U,N as j,M as q,h as E}from"./forms-BBCdHGSS.js";function L(c,i){if(c&1){const e=F();t(0,"div",7)(1,"h3"),o(2,"Create budget"),a(),t(3,"div",8)(4,"label",9)(5,"span"),o(6,"Name"),a(),t(7,"input",10),g("ngModelChange",function(n){p(e);const d=l();return b(d.draft.name,n)||(d.draft.name=n),u(n)}),a()(),t(8,"label",9)(9,"span"),o(10,"Amount"),a(),t(11,"input",11),g("ngModelChange",function(n){p(e);const d=l();return b(d.draft.amount,n)||(d.draft.amount=n),u(n)}),a()(),t(12,"label",9)(13,"span"),o(14,"Period"),a(),t(15,"select",12),g("ngModelChange",function(n){p(e);const d=l();return b(d.draft.period,n)||(d.draft.period=n),u(n)}),t(16,"option",13),o(17,"Monthly"),a(),t(18,"option",14),o(19,"Weekly"),a(),t(20,"option",15),o(21,"Custom"),a()()()(),t(22,"div",16)(23,"button",17),M("click",function(){p(e);const n=l();return u(n.open=!1)}),o(24,"Cancel"),a(),t(25,"button",18),M("click",function(){p(e);const n=l();return u(n.save())}),o(26,"Save budget"),a()()()}if(c&2){const e=l();s(7),m("ngModel",e.draft.name),s(4),m("ngModel",e.draft.amount),s(4),m("ngModel",e.draft.period),s(10),y("disabled",!e.draft.name||!e.draft.amount)}}function Q(c,i){if(c&1&&(t(0,"article",19)(1,"header",20)(2,"div")(3,"span",21),o(4),a(),t(5,"p",2),o(6),a()(),t(7,"strong"),o(8),f(9,"number"),f(10,"number"),a()(),t(11,"div",22),V(12,"div",23),a(),t(13,"div",2),o(14),f(15,"number"),a()()),c&2){const e=i.$implicit,r=l();s(4),P(e.name),s(2),v("",r.formatPeriod(e.period)," target"),s(2),I("",h(9,7,e.spent,"1.0-0")," / ",h(10,10,e.amount,"1.0-0"),""),s(4),O("width",r.progressRatio(e)*100,"%"),s(2),v("",h(15,13,r.progressRatio(e)*100,"1.0-0"),"% used")}}const _=class _{constructor(){this.open=!1,this.draft={name:"",amount:0,period:"monthly",spent:0},this.budgets=[{name:"Groceries",amount:400,spent:230,period:"monthly"},{name:"Transport",amount:120,spent:68,period:"monthly"}]}save(){this.budgets.unshift({name:this.draft.name,amount:this.draft.amount,spent:0,period:this.draft.period}),this.open=!1,this.draft={name:"",amount:0,period:"monthly",spent:0}}progressRatio(i){return i.amount?Math.min(1,Math.max(0,i.spent/i.amount)):0}formatPeriod(i){return i.charAt(0).toUpperCase()+i.slice(1)}};_.ɵfac=function(e){return new(e||_)},_.ɵcmp=k({type:_,selectors:[["app-budgets"]],standalone:!0,features:[w],decls:12,vars:3,consts:[[1,"page"],[1,"section-heading"],[1,"helper-text"],[1,"btn",3,"click"],["class","card form-card",4,"ngIf"],[1,"card-grid"],["class","card budget-card",4,"ngFor","ngForOf"],[1,"card","form-card"],[1,"form-grid"],[1,"input-field"],["type","text","placeholder","e.g. Groceries",3,"ngModelChange","ngModel"],["type","number","min","0","step","0.01",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","monthly"],["value","weekly"],["value","custom"],[1,"form-actions"],[1,"btn","secondary",3,"click"],[1,"btn",3,"click","disabled"],[1,"card","budget-card"],[1,"card-title-row"],[1,"card-title"],[1,"budget-progress"],[1,"budget-progress__bar"]],template:function(e,r){e&1&&(t(0,"section",0)(1,"header",1)(2,"div")(3,"h2"),o(4,"Budgets"),a(),t(5,"p",2),o(6,"Stay on track by planning spend across categories."),a()(),t(7,"button",3),M("click",function(){return r.open=!r.open}),o(8),a()(),C(9,L,27,4,"div",4),t(10,"div",5),C(11,Q,16,16,"article",6),a()()),e&2&&(s(8),P(r.open?"Close form":"New budget"),s(),y("ngIf",r.open),s(2),y("ngForOf",r.budgets))},dependencies:[N,B,S,T,A,D,W,R,G,U,j,q,E],encapsulation:2});let x=_;export{x as BudgetsPage};
