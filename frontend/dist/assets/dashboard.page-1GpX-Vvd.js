import{i as m,z as h,B as g,ɵ as y,c as f,d as t,e as r,f as a,j as l,g as v,k as s,m as b,l as i,u,C,D as A,q as I}from"./index-CoAdiQa4.js";import{M as B}from"./money.component-CIEQHy6Q.js";function F(p,e){if(p&1&&(t(0,"article",8)(1,"header",9)(2,"span",10),r(3),a(),t(4,"span",11),r(5),a()(),t(6,"div",2),r(7),a(),t(8,"div",12),l(9,"ui-money",5),a()()),p&2){const n=e.$implicit,c=I();s(3),u(n.name),s(2),u(c.formatType(n.type)),s(2),u(n.connectionId),s(2),i("amount",n.balance)("currency",n.currency)}}const o=class o{constructor(){this.api=m(h),this.store=m(g),this.userId="demo-user",this.accounts=[]}ngOnInit(){this.api.list(this.userId).subscribe(e=>this.accounts=e)}get totalBalance(){return this.accounts.reduce((e,n)=>e+(n.balance||0),0)}get averageBalance(){return this.accounts.length?this.totalBalance/this.accounts.length:0}get primaryCurrency(){var e;return((e=this.accounts[0])==null?void 0:e.currency)||"USD"}formatType(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"Unknown"}};o.ɵfac=function(n){return new(n||o)},o.ɵcmp=y({type:o,selectors:[["app-dashboard"]],standalone:!0,features:[f],decls:27,vars:7,consts:[[1,"page"],[1,"section-heading"],[1,"helper-text"],[1,"kpi-grid"],[1,"kpi-card"],[3,"amount","currency"],[1,"card-grid"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-title-row"],[1,"card-title"],[1,"badge"],[1,"account-balance"]],template:function(n,c){if(n&1&&(t(0,"section",0)(1,"header",1)(2,"div")(3,"h2"),r(4,"Overview"),a(),t(5,"p",2),r(6,"Instant snapshot of balances and active institutions."),a()(),t(7,"span",2),r(8),a()(),t(9,"div",3)(10,"div",4)(11,"span"),r(12,"Total balance"),a(),t(13,"strong"),l(14,"ui-money",5),a()(),t(15,"div",4)(16,"span"),r(17,"Selected account"),a(),t(18,"strong"),r(19),a()(),t(20,"div",4)(21,"span"),r(22,"Average balance"),a(),t(23,"strong"),l(24,"ui-money",5),a()()(),t(25,"div",6),v(26,F,10,5,"article",7),a()()),n&2){let d;s(8),b("",c.accounts.length," accounts"),s(6),i("amount",c.totalBalance)("currency",c.primaryCurrency),s(5),u(((d=c.store.selectedAccount())==null?null:d.name)||"All accounts"),s(5),i("amount",c.averageBalance)("currency",c.primaryCurrency),s(2),i("ngForOf",c.accounts)}},dependencies:[C,A,B],encapsulation:2});let _=o;export{_ as DashboardPage};
